@model IEnumerable<Appointments>

@{
    ViewData["Title"] = "Appointments";
    Layout = "~/Views/Shared/_Layout.cshtml";

}

@section Styles{
    <link href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.21.4/extensions/filter-control/utils.min.js"></script>
    
}

<header style="padding: 30px;">
    <div>
        <h1 style="font-weight:700">Appointments</h1>
        <p style="color: gray">Appointments</p>
        <hr />
        <br/>
        @*<p></a>int Count</p>*@
        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
            <a button class="btn w3-highway-blue me-md-2" type="button" asp-controller="Appointments" asp-action="Create">+ New Appointment</a>
        </div>
        <br/>
    </div>


    <div>
        <table id="table" class="table"
               
               data-toggle="table"
               data-search="true"    
               data-search-align="left"
               data-filter-control="true"
               data-buttons-class="primary"
               data-buttons-align="left"
               data-toolbar="#toolbar"       

               @*For which column show*@
               data-show-columns="true"
               data-minimum-count-columns="2"

               @*pagination function*@
               data-pagination="true"
               data-show-pagination-switch="true"
               data-page-list="[10, 25, 50, 100, all]">

            <thead>
                <tr>
                    <th data-field="column1" data-halign="center" data-align="center" data-sortable="true">Scheduled Appointment</th>
                    <th data-field="column2" data-halign="center" data-align="center" data-sortable="true">Appointment Created</th>
                    <th data-field="column3" data-halign="center" data-align="center" data-sortable="true">Contact</th>
                    <th data-field="column4" data-halign="center" data-align="center" data-sortable="true">Status</th>
                    <th data-field="column5" data-halign="center" data-align="center" data-sortable="true">Purpose</th>
                    <th data-field="column6" data-halign="center" data-align="center" data-sortable="true">Description</th>
                    <th data-field="column7" data-halign="center" data-align="center" data-sortable="true">Agent</th>
                    <th data-field="column8" data-width="100"  data-halign="center" data-align="center" data-sortable="true">Action</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Appointment_DateTime)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CreatedDate)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.prospect.FullName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.SchedStatus)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.AppointmentPurpose.PurposeName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Description)
                        </td>                
                        <td>
                            @Html.DisplayFor(modelItem => item.User.FullName)
                        </td>
                        <td>
                            <div class="d-grid gap-2">
                                <a type="button" class="btn btn-warning" asp-controller="Appointments" asp-action="Edit" asp-route-id="@item.Appointment_Id">Edit</a>
                                <a type="button" class="btn btn-danger" asp-controller="Appointments" asp-action="Delete" asp-route-id="@item.Appointment_Id">Delete</a>                     
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</header>

<script>
    $(function () {
        $('#table').bootstrapTable()
    })
</script>